<!DOCTYPE html>
<!--[if lt IE 7]>   <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>      <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>      <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->  <html class="no-js"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ page.title }}</title>
    <meta name="author" content="Joel Oliveira">
    {% if page.intro %}
      <meta name="description" content="{{ page.intro }}">
    {% else %}
      <meta name="description" content="A software engineer in Boston writing mostly ruby. He loves beer and bulldogs and his family.">
    {% endif %}
    <meta name="viewport" content="width=device-width">
    <link rel="alternate" type="application/rss+xml" title="Joel Oliveira &raquo; Feed" href="https://www.joeloliveira.com/rss.xml" />
    <link rel="stylesheet" href="/assets/css/main.css">
    <link rel="dns-prefetch" href="https://images.jro.li">
    <link rel="dns-prefetch" href="https://ssl.google-analytics.com">
    <link rel="apple-touch-icon" sizes="180x180" href="/images/ico/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/images/ico/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/images/ico/favicon-16x16.png">
    <link rel="manifest" href="/images/ico/site.webmanifest">
    <meta name="twitter:site" content="@jayroh">

    {% if page.title %}
      <meta property="og:type" content="article" />
      <meta property="og:title" content="{{ page.title }}" />
      <meta name="twitter:title" content="{{ page.title }}">
    {% else %}
      <meta property="og:type" content="website" />
    {% endif %}

    {% if page.intro %}
      <meta property="og:description" content="{{ page.intro }}">
      <meta name="twitter:description" content="{{ page.intro }}">
    {% endif %}

    {% if site.title %}
      <meta property="og:site_name" content="{{ site.title }}" />
    {% endif %}

    {% if page.url %}
      <meta property="og:url" content="{{ site.url }}{{ page.url }}" />
    {% endif %}

    <link rel="preload" href="/assets/css/fonts/roboto-condensed-v25-latin-regular.woff2" as="font" type="font/woff2" crossorigin>

    {% if page.preload %}
      <link rel="preload" media="(max-width: 414px)" href="{{ page.preload.mobile }}" as="image">
      <link rel="preload" media="(min-width: 413px)" href="{{ page.preload.desktop }}" as="image">
    {% elsif site.posts.first.preload %}
      <link rel="preload" media="(max-width: 414px)" href="{{ site.posts.first.preload.mobile }}" as="image">
      <link rel="preload" media="(min-width: 413px)" href="{{ site.posts.first.preload.desktop }}" as="image">
    {% endif %}

    {% if page.photo %}
      <meta property="og:image" content="{{ site.url }}/{{ page.photo | facebook_image }}" />
      <meta name="twitter:image" content="{{ site.url }}/{{ page.photo | twitter_image }}">
      <meta name="twitter:image:width" content= "1024" />
      <meta name="twitter:image:height" content= "512" />
      <meta name="twitter:card" content="summary_large_image">
    {% endif %}

    {% if page.date %}
      <meta property="article:published_time" content="{{page.date | date_to_xmlschema}}" />
    {% endif %}

    {% if site.owner_link %}
      <meta property="article:author" content="{{ site.owner_link }}" />
    {% endif %}
  </head>
  <body class="blog{% if page.id %} post{% endif %}">
    <header class="bg-gray-100 border-solid border-b border-white py-2 fixed w-full top-0">
      <div class="m-0 mx-auto py-1 max-w-2xl flex">
        <h1 class="text-sm font-bold tracking-widest uppercase text-gray-400 grow ml-2 md:ml-auto">
          <a href="/" class="hover:text-gray-600">
            Joel
            <span class="text-xs font-normal italic normal-case tracking-normal">Always one syllable, sometimes "@jayroh"</span>
          </a>
        </h1>

        <label for="panel-toggle" class="cursor-pointer mr-2 md:mr-auto flex items-center">
          <svg viewBox='0 0 10 8' width='20'>
            <path d='M1 1h8M1 4h 8M1 7h8'
                  stroke='#27272A'
                  stroke-width='2'
                  stroke-linecap='round'/>
          </svg>
        </label>
      </div>
    </header>

    <section class="pt-12">
      <div class="mx-auto max-w-2xl px-3 md:px-0">
        {{ content }}
      </div>
    </section>

    <input type="checkbox" name="panel-toggle" id="panel-toggle" class="panel-toggle hidden">

    <section class="rounded bg-zinc-800 fixed w-full -right-full md:w-1/2 md:-right-1/2 top-0 bottom-0 overflow-y-auto transition-all duration-200 ease-in">
      <header class="rounded shadow-lg bg-zinc-900 w-full h-10 flex items-center justify-left">
        <label for="panel-toggle" class="cursor-pointer inline ml-6">
          <img src="/images/close.png" width="17" height="17" alt="Toggle menu." loading="lazy">
        </label>
      </header>

      <div class="text-white">
        <div class="flex flex-col md:flex-row items-center justify-center p-6 border-b-4 border-zinc-900">

          <a href="/" class="block md:pr-6">
            <img src="{% imgproxy_url path: '/images/photos/joel.png', width: 100, height: 100 %}"
                 alt="A photo of me, Joel Oliveira, smiling."
                 width="100" height="100"
                 loading="lazy" class="rounded-full md:w-48 mb-4 md:mb-auto max-w-24">
          </a>

          <div class="text-center md:text-left">
            <h1 class="text-lg mb-2">Hello, I'm Joel. Hi! ðŸ‘‹</h1>
            <p class="font-serif text-sm text-gray-400 pr-3 md:pr-10">
              An engineering manager in Boston.
              Lapsed "tweeter" at <a href="https://twitter.com/jayroh" class="text-white">@jayroh</a>.
              Here I write about my family, my (bull)dogs, code and technology, and working on a little passion project named
              <a href="https://shubox.io?utm_source=joeloliveira&utm_medium=web&utm_campaign=sister_app" class="text-white">shubox</a>.
            </p>
          </div>
        </div>

        {% assign years= "2022|2021|2016|2014|2013|2012|2011|2010|2009|2008|2007|2006" | split: "|" %}
        {% for year in years %}
          <div class="year">
            <h2 class="border-b border-stone-500 px-6 py-2 text-lg">
              <label for="for_{{ year }}" class="cursor-pointer">Articles from {{ year }}</label>
            </h2>

            <input type="checkbox" id="for_{{ year }}" name="for_{{ year }}" class="toggle-year hidden">

            <ul class="block max-h-0 overflow-hidden transition-all duration-200 ease-in">
              {% for post in site.posts %}
                {% capture post_year %}{{post.date | date: "%Y"}}{% endcapture %}
                {% if post_year == year %}
                  <li><a href="{{ post.url }}" class="text-sm px-6 py-1 block hover:bg-zinc-900">{{ post.title }}</a></li>
                {% endif %}
              {% endfor %}
            </ul>
          </div>
        {% endfor %}

        <div class="fin"></div>
      </div>
    </section>

    <script type="text/javascript" async>
      var _gaq = _gaq || [];
            _gaq.push(['_setAccount', 'UA-2546531-2']);
            _gaq.push(['_trackPageview']);

      (function() {
              var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
              ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
              (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ga);
            })();
    </script>
  </body>
</html>
