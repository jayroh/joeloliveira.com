<input type="checkbox" name="panel-toggle" id="panel-toggle" class="panel-toggle hidden">

<section id="sidebar"
	class="fixed bottom-0 top-0 w-full overflow-y-auto rounded bg-zinc-800 transition-all duration-200 ease-in md:w-1/2">
	<header class="justify-left flex h-10 w-full items-center rounded bg-zinc-900 shadow-lg">
		<label for="panel-toggle" class="ml-6 inline cursor-pointer">
			<img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="
				class="lazyload-sidebar" width="17" height="17" alt="Toggle menu." data-src="/images/close.png">
		</label>
	</header>

	<div class="text-white">
		<div class="flex flex-col items-center justify-center border-b-4 border-zinc-900 p-6 md:flex-row">

			<a href="/" class="block md:pr-6">
				<img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="
					class="max-w-24 lazyload-sidebar mb-4 rounded-full md:mb-auto md:w-48"
					alt="A photo of me, Joel Oliveira." width="100" height="100"
					data-src="{% imgproxy_url path: '/images/photos/joel.png', width: 100, height: 100 %}">
			</a>

			<div class="text-center md:text-left">
				<h1 class="mb-2 text-lg">Hi, I'm Joel. ðŸ‘‹</h1>
				<p class="pr-3 font-serif text-sm text-gray-400 md:pr-10">
					An engineering manager in Boston. I write about my family, my (bull)dogs,
					code and technology, and whatever projects I am currently obsessed with.
					I occasionally post on Mastodon (<a rel="me" href="https://ruby.social/@jayroh">@jayroh</a>)
					and at BlueSky (<a rel="me" href="https://bsky.app/profile/jayroh.dev">@jayroh.dev</a>).
				</p>
			</div>
		</div>

		{% assign current_year = site.time | date: "%Y" | plus: 0 %}
		{% assign years = "" %}
		{% for i in (2006..current_year) reversed %}
		{% assign year_str = i | append: "" %}
		{% if years == "" %}
		{% assign years = year_str %}
		{% else %}
		{% assign years = years | append: "|" | append: year_str %}
		{% endif %}
		{% endfor %}
		{% assign years = years | split: "|" %}
		{% for year in years %}
		{% assign year_int = year | plus: 0 %}
		<div class="year">
			<h2 class="border-b border-stone-500 px-6 py-2 text-lg">
				<label for="for_{{ year }}" class="cursor-pointer block">{{ year }} / </label>
			</h2>

			<input type="checkbox" id="for_{{ year }}" name="for_{{ year }}" class="toggle-year hidden"{% if year_int == current_year %} checked{% endif %}>

			<ul class="block max-h-0 overflow-hidden transition-all duration-200 ease-in">
				{% for post in site.posts %}
				{% capture post_year %}{{post.date | date: "%Y"}}{% endcapture %}
				{% capture post_date %}{{post.date | date: "%b %d" }}{% endcapture %}
				{% if post_year == year %}
				<li><a href="{{ post.url }}" class="border-stone-600 block px-6 py-1 text-sm hover:bg-zinc-900">{{ post_date }} / {{ post.title }}</a></li>
				{% endif %}
				{% endfor %}
			</ul>
		</div>
		{% endfor %}

		<div class="fin"></div>
	</div>
</section>
